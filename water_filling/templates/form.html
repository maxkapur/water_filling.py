{% extends "base.html" %}
{%- block content %}
{%- if errors %}
<div class="form-errors">
  <p>
    Please correct the following errors:
  </p>
  <ul>
    {%- for error in errors %}
    <li>{{ error }}</li>
    {%- endfor %}
  </ul>
</div>
{%- endif %}

{%- if static %}
<form action="{{ prefix }}/level.html" accept-charset="utf-8" method="GET">
  <div><strong>Solve your own water-filling problem.</strong></div>
  <div>
    <label for="heights">Terrain heights (comma separated):</label>
  </div>
  <div>
    <textarea id="heights" name="heights" rows="1" readonly="readonly" required>
      {{- heights_str -}}
    </textarea>
  </div>
  <div>
    <label for="volume">Volume of water:</label>
    <input type="number" id="volume" name="volume" value="{{ volume_str }}" readonly="readonly" required>
  </div>
  <div>
    <input type="submit" value="Compute water level">
  </div>
</form>
{%- else %}
<form action="{{ prefix }}/level" accept-charset="utf-8" method="POST">
  <div><strong>Solve your own water-filling problem.</strong></div>
  <div>
    <label for="heights">Terrain heights (comma separated):</label>
  </div>
  <div>
    <textarea id="heights" name="heights" rows="1">
      {{- heights_str -}}
    </textarea>
  </div>
  <div>
    <label for="volume">Volume of water:</label>
    <input type="number" id="volume" name="volume" value="{{ volume_str }}" required>
  </div>
  <div>
    <input type="submit" value="Compute water level">
  </div>
</form>
{%- endif %}

{%- endblock %}
